<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë„ì¿„ ì—¬í–‰ 1ì¼ì°¨ - ì„¤ë ˆëŠ” ì‹œì‘</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Font (Noto Sans KR) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .animation-fade-in { animation: fadeIn 0.3s ease-in-out; }
        .animation-scale-up { animation: scaleUp 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleUp { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° (íŒì—… ë‚´ë¶€) */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        
        // ì•„ì´ì½˜ ì§ì ‘ ì •ì˜
        const Icons = {
            Plane: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M2 12h20"/><path d="M13 2a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/><path d="M13 16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2z"/></svg>),
            MapPin: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" /><circle cx="12" cy="10" r="3" /></svg>),
            Home: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>),
            Utensils: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2" /><path d="M7 2v20" /><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7" /></svg>),
            Camera: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" /><circle cx="12" cy="13" r="3" /></svg>),
            Moon: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>),
            Beer: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M17 11h1a3 3 0 0 1 0 6h-1"/><path d="M9 12v6"/><path d="M13 12v6"/><path d="M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 2 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z"/><path d="M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8"/></svg>),
            ChevronDown: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m6 9 6 6 6-6" /></svg>),
            ChevronUp: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m18 15-6-6-6 6" /></svg>),
            Heart: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" /></svg>),
            Star: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" /></svg>),
            X: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>),
            AlertCircle: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>),
            CheckCircle: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>),
            Ticket: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"/><path d="M13 5v2"/><path d="M13 17v2"/><path d="M13 11v2"/></svg>),
            ArrowRight: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>),
            Car: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/></svg>),
            Train: (props) => (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect width="16" height="16" x="4" y="3" rx="2"/><path d="M4 11h16"/><path d="M12 3v8"/><path d="m8 19-2 3"/><path d="m18 22-2-3"/><circle cx="8" cy="15" r="2"/><circle cx="16" cy="15" r="2"/></svg>)
        };

        // íŒì—… ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸
        const Modal = ({ isOpen, onClose, title, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/60 backdrop-blur-sm animation-fade-in" onClick={onClose}></div>
                    <div className="bg-white rounded-2xl shadow-2xl w-full max-w-sm max-h-[85vh] flex flex-col relative z-10 animation-scale-up overflow-hidden">
                        <div className="bg-blue-600 text-white p-4 flex justify-between items-center shrink-0">
                            <h3 className="font-bold text-lg">{title}</h3>
                            <button onClick={onClose} className="bg-white/20 p-1 rounded-full hover:bg-white/30 transition">
                                <Icons.X size={20} />
                            </button>
                        </div>
                        <div className="p-4 overflow-y-auto no-scrollbar">
                            {children}
                        </div>
                        <div className="p-3 bg-gray-50 border-t border-gray-100 text-center shrink-0">
                            <button onClick={onClose} className="text-sm font-bold text-blue-600 w-full py-2">
                                í™•ì¸ ì™„ë£Œ
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // ê²½ë¡œ ì •ë³´ ë°ì´í„°
        const routeData = {
            airport: {
                title: "âœˆï¸ ê³µí•­ â†’ ìˆ™ì†Œ (ì‹ ì£¼ì¿ )",
                type: "train_taxi",
                steps: [
                    { title: "N'EX í‹°ì¼“ êµ¬ë§¤", desc: "ê³µí•­ ì§€í•˜ JR ë§¤í‘œì†Œ (ë¹¨ê°„ìƒ‰)ì—ì„œ 'ì™•ë³µ í• ì¸ í‹°ì¼“(5,000ì—”)' êµ¬ë§¤" },
                    { title: "N'EX íƒ‘ìŠ¹", desc: "ì‹ ì£¼ì¿ (Shinjuku)í–‰ íƒ‘ìŠ¹ (ì•½ 80ë¶„)" },
                    { title: "ì‹ ì£¼ì¿ ì—­ í•˜ì°¨ & íƒì‹œ", desc: "ë™ìª½ ì¶œêµ¬(East Exit)ë¡œ ë‚˜ì™€ì„œ íƒì‹œ íƒ‘ìŠ¹" }
                ],
                taxiText: "æ±æ–°å®¿ã€ç›¸é‰„ãƒ•ãƒ¬ãƒƒã‚µã‚¤ãƒ³ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚",
                taxiPron: "íˆê°€ì‹œ ì‹ ì£¼ì¿ , ì†Œí…Œì¸  í”„ë ˆì‚¬ ì¸ ë§ˆë° ì˜¤ë„¤ê°€ì´ì‹œë§ˆìŠ¤",
                taxiDesc: "íˆê°€ì‹œ ì‹ ì£¼ì¿  ì†Œí…Œì¸  í”„ë ˆì‚¬ ì¸ìœ¼ë¡œ ê°€ì£¼ì„¸ìš”."
            },
            lunch: {
                title: "ğŸ¨ ìˆ™ì†Œ â†’ ì ì‹¬ (ê°€ë¶€í‚¤ì´ˆ)",
                type: "taxi",
                from: "í˜¸í…” ì•",
                to: "ì´ì¹˜ë€ (ê°€ë¶€í‚¤ì´ˆ)",
                time: "ì•½ 5~10ë¶„",
                taxiText: "æ­Œèˆä¼ç”ºã®ã€ä¸€è˜­ï¼ˆã„ã¡ã‚‰ã‚“ï¼‰ã€è¿‘ãã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚",
                taxiPron: "ì¹´ë¶€í‚¤ì´ˆë…¸ ì´ì¹˜ë€ ì¹˜ì¹´ì¿  ë§ˆë° ì˜¤ë„¤ê°€ì´ì‹œë§ˆìŠ¤",
                taxiDesc: "ê°€ë¶€í‚¤ì´ˆ ì´ì¹˜ë€ ë¼ë©˜ ê·¼ì²˜ë¡œ ê°€ì£¼ì„¸ìš”."
            },
            shibuya: {
                title: "ğŸœ ì‹ ì£¼ì¿  â†’ ì‹œë¶€ì•¼ ìŠ¤ì¹´ì´",
                type: "choice", // íƒ­ ì„ íƒí˜• (íƒì‹œ vs ì§€í•˜ì² )
                taxi: {
                    from: "ì‹ ì£¼ì¿  (ì ì‹¬ ë¨¹ì€ ê³³)",
                    to: "ì‹œë¶€ì•¼ ìŠ¤í¬ë¨ë¸” ìŠ¤í€˜ì–´",
                    time: "ì•½ 20ë¶„",
                    taxiText: "æ¸‹è°·ã‚¹ã‚¯ãƒ©ãƒ³ãƒ–ãƒ«ã‚¹ã‚¯ã‚¨ã‚¢ã¾ã§ ë¶€íƒë“œë¦½ë‹ˆë‹¤.",
                    taxiPron: "ì‹œë¶€ì•¼ ìŠ¤ì¿ ë€ë¶€ë£¨ ìŠ¤ì¿ ì—ì•„ ë§ˆë° ì˜¤ë„¤ê°€ì´ì‹œë§ˆìŠ¤",
                    taxiDesc: "ì‹œë¶€ì•¼ ìŠ¤í¬ë¨ë¸” ìŠ¤í€˜ì–´ë¡œ ê°€ì£¼ì„¸ìš”."
                },
                subway: {
                    lineName: "JR ì•¼ë§ˆë…¸í…Œì„  (ì´ˆë¡ìƒ‰)",
                    direction: "ì‹œë¶€ì•¼Â·ì‹œë‚˜ê°€ì™€ ë°©ë©´ (14ë²ˆ ìŠ¹ê°•ì¥)",
                    from: "ì‹ ì£¼ì¿ ì—­ (JR)",
                    to: "ì‹œë¶€ì•¼ì—­",
                    exit: "ë‚¨ìª½ ê°œì°°êµ¬ (South Gate)",
                    time: "ì•½ 7ë¶„ (170ì—”)",
                    desc: "ë„ë¡œê°€ ë§‰í ìˆ˜ ìˆì–´ ì „ì² ì´ í›¨ì”¬ ë¹ ë¦…ë‹ˆë‹¤! ğŸš‡"
                }
            },
            dinner: {
                title: "ğŸŒ† ì‹œë¶€ì•¼ â†’ ì €ë… (ì—ë¹„ìŠ¤)",
                type: "taxi",
                from: "ì‹œë¶€ì•¼ ìŠ¤í¬ë¨ë¸” ìŠ¤í€˜ì–´ 1ì¸µ íƒì‹œ ìŠ¹ê°•ì¥",
                to: "ì•¼í‚¤ë‹ˆì¿  í°ê°€ (ì—ë¹„ìŠ¤)",
                time: "ì•½ 10ë¶„",
                taxiText: "æµæ¯”å¯¿ã®ã€ç„¼è‚‰ã½ã‚“ãŒã€ã¾ã§ ë¶€íƒë“œë¦½ë‹ˆë‹¤.\n(æµæ¯”å¯¿é§…è¥¿å£ ìª½ì…ë‹ˆë‹¤)",
                taxiPron: "ì—ë¹„ìŠ¤ë…¸ ì•¼í‚¤ë‹ˆì¿  í°ê°€ ë§ˆë° ì˜¤ë„¤ê°€ì´ì‹œë§ˆìŠ¤.\n(ì—ë¹„ìŠ¤ì—í‚¤ ë‹ˆì‹œêµ¬ì¹˜ë…¸ í˜¸-ë°ìŠ¤)",
                taxiDesc: "ì—ë¹„ìŠ¤ 'ì•¼í‚¤ë‹ˆì¿  í°ê°€'ë¡œ ê°€ì£¼ì„¸ìš”. (ì—ë¹„ìŠ¤ì—­ ì„œìª½ ì¶œêµ¬ ìª½ì…ë‹ˆë‹¤)"
            },
            roppongi: {
                title: "ğŸ¥© ì—ë¹„ìŠ¤ â†’ ë¡¯í°ê¸°",
                type: "taxi",
                from: "ì‹ë‹¹ ì• or í°ê¸¸",
                to: "ë„ì¿„ ë¯¸ë“œíƒ€ìš´",
                time: "ì•½ 10~15ë¶„",
                taxiText: "å…­æœ¬æœ¨ã®æ±äº¬ãƒŸãƒƒãƒ‰ã‚¿ã‚¦ãƒ³ã¾ã§ ë¶€íƒë“œë¦½ë‹ˆë‹¤.",
                taxiPron: "ë¡¯í°ê¸°ë…¸ ë„ì¿„ ë°‹ë„íƒ€ìš´ ë§ˆë° ì˜¤ë„¤ê°€ì´ì‹œë§ˆìŠ¤",
                taxiDesc: "ë¡¯í°ê¸° ë„ì¿„ ë¯¸ë“œíƒ€ìš´ìœ¼ë¡œ ê°€ì£¼ì„¸ìš”."
            },
            yokocho: {
                title: "âœ¨ ë¡¯í°ê¸° â†’ ì˜¤ëª¨ì´ë° ìš”ì½”ì´ˆ",
                type: "taxi",
                from: "ë„ì¿„ ë¯¸ë“œíƒ€ìš´",
                to: "ì‹ ì£¼ì¿  ì„œìª½ ì¶œêµ¬",
                time: "ì•½ 15~20ë¶„",
                taxiText: "æ–°å®¿é§…è¥¿å£ã®ã€æ€ã„å‡ºæ¨ªä¸ã€ê·¼ì²˜ã¾ã§ ë¶€íƒë“œë¦½ë‹ˆë‹¤.",
                taxiPron: "ì‹ ì£¼ì¿ ì—í‚¤ ë‹ˆì‹œêµ¬ì¹˜ë…¸ ì˜¤ëª¨ì´ë° ìš”ì½”ì´ˆ ì¹˜ì¹´ì¿  ë§ˆë° ì˜¤ë„¤ê°€ì´ì‹œë§ˆìŠ¤",
                taxiDesc: "ì‹ ì£¼ì¿ ì—­ ì„œìª½ ì¶œêµ¬ 'ì˜¤ëª¨ì´ë° ìš”ì½”ì´ˆ' ê·¼ì²˜ë¡œ ê°€ì£¼ì„¸ìš”."
            }
        };

        const ScheduleCard = ({ time, title, iconName, children, isHighlight = false, routeKey = null, onRouteClick }) => {
            const IconComponent = Icons[iconName];
            return (
                <div className={`relative pl-8 pb-8 border-l-2 ${isHighlight ? 'border-pink-400' : 'border-gray-200'} last:border-l-0`}>
                    <div className={`absolute -left-[9px] top-0 w-4 h-4 rounded-full ${isHighlight ? 'bg-pink-500 ring-4 ring-pink-100' : 'bg-gray-300'}`} />
                    <div className="flex items-center gap-2 mb-2">
                        <span className="text-sm font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-md font-mono">{time}</span>
                        <h3 className={`text-lg font-bold ${isHighlight ? 'text-pink-600' : 'text-gray-800'}`}>{title}</h3>
                        {IconComponent && <IconComponent className={isHighlight ? 'text-pink-500' : 'text-gray-400'} size={18} />}
                    </div>
                    
                    {/* ì´ë™ ê°€ì´ë“œ ë²„íŠ¼ */}
                    {routeKey && (
                        <button 
                            onClick={() => onRouteClick(routeKey)}
                            className="w-full mb-3 flex items-center justify-between bg-yellow-50 hover:bg-yellow-100 border border-yellow-200 text-yellow-800 px-3 py-2 rounded-lg transition-colors group"
                        >
                            <span className="text-sm font-bold flex items-center">
                                {routeData[routeKey].type === 'choice' ? 
                                    <><Icons.Train size={16} className="mr-1 text-yellow-600"/> <span className="mr-1">/</span> <Icons.Car size={16} className="mr-2 text-yellow-600"/></> 
                                    : <Icons.Car size={16} className="mr-2 text-yellow-600"/>
                                }
                                ì´ë™ ê°€ì´ë“œ ë³´ê¸°
                            </span>
                            <Icons.ArrowRight size={14} className="text-yellow-600 opacity-50 group-hover:opacity-100 transform group-hover:translate-x-1 transition-all" />
                        </button>
                    )}

                    <div className="bg-white rounded-xl p-4 shadow-sm border border-gray-100">
                        {children}
                    </div>
                </div>
            );
        };

        const DetailCard = ({ image, name, desc, point, link }) => (
            <div className="mb-6 last:mb-0 bg-gray-50 rounded-xl p-3 border border-gray-200">
                <img 
                    src={image} 
                    alt={name} 
                    className="w-full h-32 object-cover rounded-lg mb-3 shadow-sm"
                    onError={(e) => {e.target.src = 'https://via.placeholder.com/600x300?text=No+Image'}}
                />
                <h4 className="text-lg font-bold text-gray-800 mb-1">{name}</h4>
                <p className="text-sm text-gray-600 leading-relaxed mb-3">
                    <span className="bg-pink-100 text-pink-800 px-1.5 py-0.5 rounded mr-1 text-xs font-bold">Point</span>
                    {point}
                </p>
                <a 
                    href={link} 
                    target="_blank" 
                    rel="noreferrer"
                    className="flex items-center justify-center w-full py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-100 transition-colors"
                >
                    <Icons.MapPin size={16} className="mr-1 text-red-500" /> êµ¬ê¸€ì§€ë„ ë³´ê¸°
                </a>
            </div>
        );

        const App = () => {
            const [showLunchOptions, setShowLunchOptions] = useState(true);
            const [modalContent, setModalContent] = useState(null);
            const [activeTab, setActiveTab] = useState('taxi'); // ëª¨ë‹¬ íƒ­ ìƒíƒœ

            const openRouteModal = (key) => {
                setModalContent(routeData[key]);
                setActiveTab('taxi'); // ëª¨ë‹¬ ì—´ ë•Œ íƒ­ ì´ˆê¸°í™”
            };

            const closeModal = () => {
                setModalContent(null);
            };

            // ì„ íƒí˜• ëª¨ë‹¬ ë‚´ìš© ë Œë”ë§
            const renderChoiceContent = () => {
                if (!modalContent) return null;
                const { taxi, subway } = modalContent;

                return (
                    <div>
                        {/* íƒ­ ë²„íŠ¼ */}
                        <div className="flex bg-gray-100 p-1 rounded-lg mb-4">
                            <button 
                                onClick={() => setActiveTab('taxi')}
                                className={`flex-1 flex items-center justify-center py-2 text-sm font-bold rounded-md transition-all ${activeTab === 'taxi' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}
                            >
                                <Icons.Car size={16} className="mr-1"/> íƒì‹œ
                            </button>
                            <button 
                                onClick={() => setActiveTab('subway')}
                                className={`flex-1 flex items-center justify-center py-2 text-sm font-bold rounded-md transition-all ${activeTab === 'subway' ? 'bg-white text-green-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}
                            >
                                <Icons.Train size={16} className="mr-1"/> ì§€í•˜ì²  (ì¶”ì²œ!)
                            </button>
                        </div>

                        {/* íƒ­ ë‚´ìš© */}
                        {activeTab === 'taxi' ? (
                            <>
                                <div className="bg-gray-50 p-3 rounded-lg border border-gray-100 mb-4">
                                    <div className="flex items-center justify-between text-sm mb-2">
                                        <span className="bg-gray-200 text-gray-600 px-2 py-0.5 rounded text-xs">ì¶œë°œ</span>
                                        <span className="font-bold text-gray-700 truncate ml-2 flex-1">{taxi.from}</span>
                                    </div>
                                    <div className="flex items-center justify-center text-gray-400 my-1"><Icons.ChevronDown size={14}/></div>
                                    <div className="flex items-center justify-between text-sm">
                                        <span className="bg-blue-100 text-blue-600 px-2 py-0.5 rounded text-xs">ë„ì°©</span>
                                        <span className="font-bold text-blue-700 truncate ml-2 flex-1">{taxi.to}</span>
                                    </div>
                                    <p className="text-right text-xs text-gray-400 mt-2">ì˜ˆìƒ ì†Œìš”ì‹œê°„: {taxi.time}</p>
                                </div>
                                <div className="bg-yellow-50 p-4 rounded-xl border-2 border-yellow-300 shadow-sm">
                                    <p className="text-xs text-yellow-800 font-bold mb-2 flex items-center">
                                        <span className="bg-yellow-400 text-white px-1.5 rounded mr-1">Tip</span>
                                        ê¸°ì‚¬ë‹˜ê»˜ ì´ í™”ë©´ì„ ë³´ì—¬ì£¼ì„¸ìš”!
                                    </p>
                                    <div className="bg-white p-4 rounded-lg border border-yellow-100 mb-3 text-center">
                                        <p className="text-xl font-bold text-gray-900 leading-relaxed whitespace-pre-line">
                                            {taxi.taxiText}
                                        </p>
                                    </div>
                                    <div className="text-center">
                                        <p className="text-sm font-bold text-indigo-600 mb-1">ğŸ—£ï¸ í•œê¸€ ë°œìŒ</p>
                                        <p className="text-sm text-gray-700 bg-white/50 inline-block px-3 py-1 rounded-full whitespace-pre-line">
                                            "{taxi.taxiPron}"
                                        </p>
                                    </div>
                                </div>
                            </>
                        ) : (
                            <div className="space-y-3">
                                <div className="bg-green-50 p-4 rounded-xl border border-green-200">
                                    <h4 className="font-bold text-green-800 flex items-center mb-3">
                                        <Icons.CheckCircle size={18} className="mr-2 text-green-600"/> ì¶”ì²œ ì´ìœ 
                                    </h4>
                                    <p className="text-sm text-green-700 bg-white p-2 rounded border border-green-100">
                                        {subway.desc}
                                    </p>
                                </div>
                                <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm">
                                    <div className="flex items-center mb-3">
                                        <span className="bg-green-500 text-white text-xs font-bold px-2 py-1 rounded mr-2">ë…¸ì„ </span>
                                        <span className="font-bold text-gray-800">{subway.lineName}</span>
                                    </div>
                                    <div className="space-y-4">
                                        <div className="flex relative pl-4 border-l-2 border-green-200">
                                            <div className="absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full bg-green-500"></div>
                                            <div className="ml-2 -mt-1">
                                                <p className="text-sm font-bold text-gray-800">{subway.from}</p>
                                                <p className="text-xs text-blue-600 font-bold mt-0.5">{subway.direction}</p>
                                            </div>
                                        </div>
                                        <div className="flex relative pl-4 border-l-2 border-transparent">
                                            <div className="absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full bg-red-500"></div>
                                            <div className="ml-2 -mt-1">
                                                <p className="text-sm font-bold text-gray-800">{subway.to}</p>
                                                <p className="text-xs text-gray-500 mt-0.5">{subway.exit}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="mt-4 pt-3 border-t border-gray-100 flex justify-between text-xs text-gray-500">
                                        <span>ì†Œìš”ì‹œê°„: {subway.time}</span>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                );
            };

            return (
                <div className="max-w-md mx-auto bg-gray-50 min-h-screen font-sans pb-20 shadow-xl">
                    {/* Header */}
                    <header className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-b-3xl shadow-lg sticky top-0 z-10">
                        <div className="flex justify-between items-end">
                            <div>
                                <p className="text-blue-100 text-sm font-medium mb-1">Tokyo Trip Day 1</p>
                                <h1 className="text-3xl font-bold">2/18 (ìˆ˜)</h1>
                                <p className="text-blue-200 text-sm mt-1">ì„¤ë ˜ ê°€ë“ ë„ì¿„ ë„ì°© âœˆï¸</p>
                            </div>
                            <div className="bg-white/20 p-2 rounded-full backdrop-blur-sm">
                                <Icons.Heart className="text-pink-300 fill-pink-300" />
                            </div>
                        </div>
                    </header>

                    {/* Timeline */}
                    <div className="p-6 mt-2">
                        
                        {/* 1. ê³µí•­ ë„ì°© */}
                        <ScheduleCard 
                            time="11:55 - 14:30" 
                            title="ë„ì°© ë° ìˆ™ì†Œ ì´ë™" 
                            iconName="Plane"
                            routeKey="airport"
                            onRouteClick={openRouteModal}
                        >
                            <ul className="text-sm text-gray-600 space-y-3 pointer-events-none">
                                <li className="flex items-start">
                                    <span className="w-1.5 h-1.5 bg-gray-400 rounded-full mt-1.5 mr-2 shrink-0" />
                                    <span>ğŸ›¬ <strong>ë‚˜ë¦¬íƒ€ ê³µí•­ ë„ì°©</strong>: ì…êµ­ ì‹¬ì‚¬</span>
                                </li>
                                <li className="flex items-start">
                                    <span className="w-1.5 h-1.5 bg-gray-400 rounded-full mt-1.5 mr-2 shrink-0" />
                                    <span>ğŸš… <strong>N'EX íƒ‘ìŠ¹</strong>: ì™•ë³µ í‹°ì¼“ êµ¬ë§¤</span>
                                </li>
                                <li className="flex items-start">
                                    <span className="w-1.5 h-1.5 bg-gray-400 rounded-full mt-1.5 mr-2 shrink-0" />
                                    <span>ğŸš• <strong>íƒì‹œ ì´ë™</strong>: ì‹ ì£¼ì¿  â†’ í˜¸í…”</span>
                                </li>
                            </ul>
                        </ScheduleCard>

                        {/* 2. ì²´í¬ì¸ */}
                        <ScheduleCard time="14:30 - 15:00" title="ì²´í¬ì¸ & ì§ í’€ê¸°" iconName="Home">
                            <div className="bg-blue-50 p-3 rounded-lg border border-blue-100">
                                <h4 className="font-bold text-blue-900 mb-1">ì†Œí…Œì¸  í”„ë ˆì‚¬ ì¸ íˆê°€ì‹œ ì‹ ì£¼ì¿ </h4>
                                <p className="text-xs text-blue-700 mb-2">Sotetsu Fresa Inn Higashi Shinjuku</p>
                                <p className="text-xs text-gray-600">
                                    ğŸ¨ ì²´í¬ì¸ í›„ ì§ì„ í’€ê³  ê°€ë³ê²Œ ë‚˜ì˜¬ ì¤€ë¹„!<br/>
                                    (ë¡œë¹„ ì–´ë©”ë‹ˆí‹° ì±™ê¸°ëŠ” ê²ƒ ìŠì§€ ë§ê¸° âœ¨)
                                </p>
                            </div>
                        </ScheduleCard>

                        {/* 3. ì ì‹¬ ì‹ì‚¬ */}
                        <ScheduleCard 
                            time="15:00 - 16:00" 
                            title="ëŠ¦ì€ ì ì‹¬ (ë©”ë‰´ ì„ íƒ)" 
                            iconName="Utensils" 
                            isHighlight={true}
                            routeKey="lunch"
                            onRouteClick={openRouteModal}
                        >
                            <div className="flex justify-between items-center mb-4">
                                <p className="text-xs text-pink-600 font-bold">*ì‹ ì£¼ì¿ /ìˆ™ì†Œ ê·¼ì²˜ ë§›ì§‘ (3ê³³ ì¤‘ ì„ íƒ)</p>
                                <button 
                                    onClick={() => setShowLunchOptions(!showLunchOptions)}
                                    className="text-gray-400 hover:text-gray-600 bg-gray-100 p-1 rounded-full flex items-center justify-center"
                                >
                                    {showLunchOptions ? <Icons.ChevronUp size={20} /> : <Icons.ChevronDown size={20} />}
                                </button>
                            </div>
                            
                            {showLunchOptions && (
                                <div className="space-y-4 animation-fade-in">
                                    <DetailCard 
                                        name="[ë¼ë©˜] ì´ì¹˜ë€ ì‹ ì£¼ì¿  ê°€ë¶€í‚¤ì´ˆì "
                                        image="https://images.unsplash.com/photo-1552611052-33e04de081de?auto=format&fit=crop&q=80&w=600&h=300"
                                        point="ì„¤ëª…ì´ í•„ìš” ì—†ëŠ” ëˆì½”ì¸  ë¼ë©˜ì˜ ì •ì„. ë…ì„œì‹¤ ì¢Œì„ì—ì„œ ì˜¤ë¡¯ì´ ë§›ì— ì§‘ì¤‘!"
                                        link="https://www.google.com/maps/search/?api=1&query=Ichiran+Shinjuku+Kabukicho" 
                                    />
                                    <DetailCard 
                                        name="[êµì] ì‹ ì£¼ì¿  ì¹´ì¼€ì½”ë¯¸ êµì"
                                        image="https://images.unsplash.com/photo-1626809712781-a75d564101e4?auto=format&fit=crop&q=80&w=600&h=300"
                                        point="24ì‹œê°„ ì˜ì—…í•˜ëŠ” í™œê¸°ì°¬ êµì ì „ë¬¸ì . ìœ¡ì¦™ ê°€ë“í•œ ë§Œë‘ì— ë‚®ìˆ  í•œì”? ğŸ¥Ÿ"
                                        link="https://www.google.com/maps/search/?api=1&query=Shinjuku+Kakekomi+Gyoza"
                                    />
                                    <DetailCard 
                                        name="[ê°€ì •ì‹] ë§ˆì´ë„ ì˜¤í‚¤ë‹ˆ ì‹ë‹¹"
                                        image="https://images.unsplash.com/photo-1569050467447-ce54b3bbc37d?auto=format&fit=crop&q=80&w=600&h=300"
                                        point="ë¨¹ê³  ì‹¶ì€ ë°˜ì°¬ì„ ê³¨ë¼ ë‹´ëŠ” ì¼ë³¸ ê°€ì •ì‹ ë°±ë°˜. ìƒì„ êµ¬ì´, ê³„ë€ë§ì´ê°€ ì¼í’ˆ."
                                        link="https://www.google.com/maps/search/?api=1&query=Shinjuku+Maido+Ookini+Shokudo"
                                    />
                                </div>
                            )}
                        </ScheduleCard>

                        {/* 4. ì‹œë¶€ì•¼ ì´ë™ ë° ìŠ¤ì¹´ì´ */}
                        <ScheduleCard 
                            time="16:00 - 18:00" 
                            title="ì‹œë¶€ì•¼ ìŠ¤ì¹´ì´ & ìŠ¤í¬ë¨ë¸”" 
                            iconName="Camera" 
                            isHighlight={true}
                            routeKey="shibuya"
                            onRouteClick={openRouteModal}
                        >
                             <div className="space-y-3">
                                <div className="bg-orange-50 p-3 rounded-lg border border-orange-100">
                                    <p className="font-bold text-orange-900 flex items-center mb-1">
                                        <Icons.Star size={16} className="text-orange-500 mr-1"/> í•„ìˆ˜ ë¯¸ì…˜
                                    </p>
                                    <p className="text-sm text-gray-700 mb-3">
                                        ğŸŒ† <strong>ì‹œë¶€ì•¼ ìŠ¤ì¹´ì´ (16:30 ì…ì¥)</strong><br/>
                                        <span className="text-xs text-gray-500 pl-4">ë…¸ì„(17:25)ê³¼ ì•¼ê²½ì„ ëª¨ë‘ ì¦ê¸°ëŠ” ê³¨ë“ íƒ€ì„!</span>
                                    </p>
                                    <a 
                                        href="https://www.google.com/maps/search/?api=1&query=SHIBUYA+SKY" 
                                        target="_blank" 
                                        rel="noreferrer"
                                        className="flex items-center justify-center w-full py-2 bg-orange-500 text-white rounded-lg text-sm font-bold shadow-md hover:bg-orange-600 transition-colors"
                                    >
                                        <Icons.MapPin size={16} className="mr-1" /> êµ¬ê¸€ì§€ë„ ë³´ê¸°
                                    </a>
                                </div>
                                <div className="pl-2 border-l-2 border-gray-200">
                                    <p className="text-sm text-gray-700 font-bold mb-1">ğŸ“¸ ì‹œë¶€ì•¼ ìŠ¤í¬ë¨ë¸” êµì°¨ë¡œ</p>
                                    <p className="text-xs text-gray-500">
                                        ìŠ¤ì¹´ì´ ê´€ëŒ í›„ ë‚´ë ¤ì™€ì„œ ì¸ì¦ìƒ· ì´¬ì˜ (18:00~19:00)
                                    </p>
                                </div>
                             </div>
                        </ScheduleCard>

                        {/* 5. ì €ë… ì‹ì‚¬ */}
                        <ScheduleCard 
                            time="19:15 (ì˜ˆì•½í™•ì •)" 
                            title="ì €ë…: ì•¼í‚¤ë‹ˆì¿  í°ê°€ ì—ë¹„ìˆ˜" 
                            iconName="Utensils" 
                            isHighlight={true}
                            routeKey="dinner"
                            onRouteClick={openRouteModal}
                        >
                            <div className="bg-gray-900 text-white p-4 rounded-xl shadow-lg relative overflow-hidden">
                                <div className="absolute inset-0 bg-gradient-to-r from-red-900/40 to-black/40"></div>
                                <div className="relative z-10">
                                    <h4 className="text-xl font-bold text-yellow-500 mb-1">Yakiniku Ponga Ebisu</h4>
                                    <p className="text-xs text-gray-300 mb-3">ì˜ˆì•½ì‹œê°„: 19:15 | ë‹¤ë‹¤ë¯¸ ë„¤ê¸°íƒ„ & íŠ¸ëŸ¬í”Œ ì†¥ë°¥</p>
                                    <a 
                                        href="https://www.google.com/maps/search/?api=1&query=Yakiniku+Ponga+Ebisu" 
                                        target="_blank" 
                                        rel="noreferrer"
                                        className="inline-flex items-center bg-white/10 hover:bg-white/20 px-3 py-1.5 rounded text-xs transition-colors"
                                    >
                                        <Icons.MapPin size={12} className="mr-1"/> ì§€ë„ ë³´ê¸°
                                    </a>
                                </div>
                            </div>
                        </ScheduleCard>

                        {/* 6. ì¼ë£¨ë¯¸ë„¤ì´ì…˜ */}
                        <ScheduleCard 
                            time="20:30 - 22:00" 
                            title="ë¡¯í°ê¸° ì¼ë£¨ë¯¸ë„¤ì´ì…˜" 
                            iconName="Moon"
                            routeKey="roppongi"
                            onRouteClick={openRouteModal}
                        >
                             <div className="bg-indigo-50 p-3 rounded-lg border border-indigo-100">
                                <p className="text-sm text-indigo-900">
                                    âœ¨ <strong>ë„ì¿„ ë¯¸ë“œíƒ€ìš´ / ë¡¯í°ê¸° íì¦ˆ</strong><br/>
                                    <span className="text-xs text-indigo-600">íƒì‹œë¡œ ì´ë™ (ì•½ 10ë¶„). ê²¨ìš¸ë°¤ ë‚­ë§Œ ì¦ê¸°ê¸°.</span>
                                </p>
                             </div>
                        </ScheduleCard>

                        {/* 7. ë’·í’€ì´ */}
                        <ScheduleCard 
                            time="22:00 ~" 
                            title="ë’·í’€ì´ (ì‹ ì£¼ì¿  ë³µê·€)" 
                            iconName="Beer"
                            routeKey="yokocho"
                            onRouteClick={openRouteModal}
                        >
                            <p className="text-sm text-gray-700 mb-2">
                                ğŸ® <strong>ì˜¤ëª¨ì´ë° ìš”ì½”ì´ˆ (ì¶”ì–µì˜ ê±°ë¦¬)</strong>
                            </p>
                            <p className="text-xs text-gray-500 leading-relaxed">
                                ì¢ì€ ê³¨ëª© ê¼¬ì¹˜êµ¬ì´ ì§‘ì—ì„œ ìƒë§¥ì£¼ í•œ ì”.<br/>
                                ë§ˆë¬´ë¦¬ëŠ” ê±¸ì–´ì„œ ìˆ™ì†Œë¡œ ë³µê·€ ğŸš¶
                            </p>
                        </ScheduleCard>

                    </div>

                    {/* 2ì¼ì°¨ ì´ë™ ë²„íŠ¼ */}
                    <div className="p-6 pt-0 pb-10">
                        <a 
                            href="https://treysong87.github.io/tokyoday2/"
                            target="_blank"
                            rel="noreferrer"
                            className="flex items-center justify-center w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 font-bold text-lg"
                        >
                            2ì¼ì°¨ ì¼ì • ë³´ëŸ¬ê°€ê¸° <Icons.ArrowRight className="ml-2" />
                        </a>
                    </div>

                    {/* ì´ë™ ê²½ë¡œ ë° ê¸°ì‚¬ë‹˜ ë³´ì—¬ì£¼ê¸°ìš© ëª¨ë‹¬ */}
                    <Modal 
                        isOpen={!!modalContent} 
                        onClose={closeModal}
                        title={modalContent?.title}
                    >
                        {modalContent && (
                            <div className="space-y-6">
                                {/* ì¼ë°˜ ê²½ë¡œ ì•ˆë‚´ (airport íƒ€ì…) */}
                                {modalContent.type === 'train_taxi' && (
                                    <div className="space-y-4">
                                        {modalContent.steps.map((step, idx) => (
                                            <div key={idx} className="relative pl-6 border-l-2 border-blue-200 last:border-l-0">
                                                <div className="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-blue-500 text-white text-[10px] flex items-center justify-center font-bold">{idx + 1}</div>
                                                <h4 className="font-bold text-gray-800">{step.title}</h4>
                                                <p className="text-sm text-gray-600 mt-1">{step.desc}</p>
                                            </div>
                                        ))}
                                    </div>
                                )}

                                {/* ì„ íƒí˜• ì•ˆë‚´ (choice íƒ€ì…: ì‹ ì£¼ì¿  -> ì‹œë¶€ì•¼) */}
                                {modalContent.type === 'choice' ? renderChoiceContent() : null}

                                {/* íƒì‹œ ìƒì„¸ ì•ˆë‚´ (ë‹¨ì¼ íƒì‹œ íƒ€ì…) */}
                                {(modalContent.type === 'taxi' || modalContent.taxiText) && modalContent.type !== 'choice' && (
                                    <>
                                        {/* ê²½ë¡œ ìš”ì•½ */}
                                        {modalContent.type === 'taxi' && (
                                            <div className="bg-gray-50 p-3 rounded-lg border border-gray-100 mb-4">
                                                <div className="flex items-center justify-between text-sm mb-2">
                                                    <span className="bg-gray-200 text-gray-600 px-2 py-0.5 rounded text-xs">ì¶œë°œ</span>
                                                    <span className="font-bold text-gray-700 truncate ml-2 flex-1">{modalContent.from}</span>
                                                </div>
                                                <div className="flex items-center justify-center text-gray-400 my-1"><Icons.ChevronDown size={14}/></div>
                                                <div className="flex items-center justify-between text-sm">
                                                    <span className="bg-blue-100 text-blue-600 px-2 py-0.5 rounded text-xs">ë„ì°©</span>
                                                    <span className="font-bold text-blue-700 truncate ml-2 flex-1">{modalContent.to}</span>
                                                </div>
                                                <p className="text-right text-xs text-gray-400 mt-2">ì˜ˆìƒ ì†Œìš”ì‹œê°„: {modalContent.time}</p>
                                            </div>
                                        )}

                                        {/* ê¸°ì‚¬ë‹˜ ë³´ì—¬ì£¼ê¸° ì„¹ì…˜ */}
                                        <div className="bg-yellow-50 p-4 rounded-xl border-2 border-yellow-300 shadow-sm">
                                            <p className="text-xs text-yellow-800 font-bold mb-2 flex items-center">
                                                <span className="bg-yellow-400 text-white px-1.5 rounded mr-1">Tip</span>
                                                ê¸°ì‚¬ë‹˜ê»˜ ì´ í™”ë©´ì„ ë³´ì—¬ì£¼ì„¸ìš”!
                                            </p>
                                            <div className="bg-white p-4 rounded-lg border border-yellow-100 mb-3 text-center">
                                                <p className="text-xl font-bold text-gray-900 leading-relaxed whitespace-pre-line">
                                                    {modalContent.taxiText}
                                                </p>
                                            </div>
                                            <div className="text-center">
                                                <p className="text-sm font-bold text-indigo-600 mb-1">ğŸ—£ï¸ í•œê¸€ ë°œìŒ</p>
                                                <p className="text-sm text-gray-700 bg-white/50 inline-block px-3 py-1 rounded-full whitespace-pre-line">
                                                    "{modalContent.taxiPron}"
                                                </p>
                                            </div>
                                        </div>
                                    </>
                                )}
                            </div>
                        )}
                    </Modal>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
